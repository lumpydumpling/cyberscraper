URL: https://developer.android.com/studio/write/java8-support
Title: Use Java 8 language features and APIs  |  Android Studio  |  Android Developers
Text Content: The Android Gradle plugin 3.0.0 and later supports all Java 7 language featuresand a subset of Java 8 language features that vary by platform version. Whenbuilding your app using the Android Gradle plugin 4.0.0 and higher, you can usesome Java 8 language APIs without requiring a minimum API level for yourapp.This page describes the Java 8 language features you can use, how to properlyconfigure your project to use them, and any known issues you may encounter.See the following video for an overview of Java 8 language features.The Android Gradle plugin provides built-in support for using certain Java 8language features and third-party libraries that use them. The default toolchainimplements the new language features by performingbytecode transformations, called , as part of the D8/R8 compilationof class files into DEX code, as shown in figure 1.To start using supported Java 8 language features:When building your app using the Android Gradle plugin 3.0.0 and higher, theplugin doesn't support all Java 8 language features. The following languagefeatures are available on any API level:In addition to these Java 8 language features, Android Gradle pluginversions 3.0.0 and higher extend support for-with-resources to all Android API levels.Desugar doesn't support or.If your source code or one of your module dependencies uses one of these methods,you need to specify  or higher. Otherwise, you receive thefollowing error:In some cases, your module might not be using the  or methods even when they're included in a library dependency. To keep usingthat library with  or lower,enable code shrinking to removeunused methods. If that doesn't work, consider using an alternative library thatdoesn't use the unsupported methods.Java 8+ language features desugaring on the Android Gradleplugin 3.0.0 and higher and doesn't make any additional classes and APIs(such as ) available for use on older Android releases.Support for partial Java API desugaring is available from the Android Gradleplugin 4.0.0 or higher, as described in the following section.If you're building your app using the Android Gradle plugin 4.0.0 or higher, theplugin extends support for using a number of Java 8 language APIs withoutrequiring a minimum API level for your app. With Android Gradle plugin 7.4.0 orhigher, a number of Java 11 language APIs are also available with desugaredlibrary 2.0.0 or higher.This additional support for older platform versions is possible because plugin4.0.0 and higher extends the desugaring engine to also desugar Java languageAPIs. You can include standard language APIs that were available only inrecent Android releases (such as ) in apps that support olderversions of Android.The following set of APIs are supported when building your app using AndroidGradle plugin 4.0.0 or higher:With Android Gradle plugin 7.4.0 or higher, additional Java 11 APIs aresupported such as a subset of the  package.For a complete list of supported APIs, visitJava 8+ APIs available through desugaringandJava 11+ APIs available through desugaring.To support these language APIs, the plugin compiles a separate DEX filethat contains an implementation of the missing APIs and includes it in your app.The desugaring process rewrites your app’s code to instead use this library atruntime.To enable support for these language APIs on any version of the Androidplatform:Note that you may also need to include the previous code snippet in a librarymodule's  or  file if:The library module's instrumented tests use these language APIs (eitherdirectly or through the library module or its dependencies). This is so thatthe missing APIs are provided for your instrumented test APK.You want to run lint on the library module in isolation. This is to helplint recognize valid usages of the language APIs and avoid reporting falsewarnings.Also note that API desugaring can be combined with shrinking, but onlywhen using the R8 shrinker.The following table shows the versions of the Java 8+ API library and theminimum Android Gradle plugin version that supports each version:For details on the versions of the Java 8+ API library, see theCHANGELOG.md filein the  GitHub repository.Content and code samples on this page are subject to the licenses described in the Content License. Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.Last updated 2023-09-14 UTC.
Data: 4384 Bytes 
total data: 138517 Bytes 
Found keywords: ['repository', 'file', 'test']